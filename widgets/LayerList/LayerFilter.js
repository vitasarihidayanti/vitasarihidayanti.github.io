// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/LayerList/LayerFilter.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"search-input-node invalid" data-dojo-attach-point\x3d"searchInputNode"\x3e\r\n    \x3cdiv class\x3d"clear-input-button disable" data-dojo-attach-point\x3d"clearInputButton" data-dojo-attach-event\x3d"click:_onClearInputButton"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"search-button" data-dojo-attach-point\x3d"searchButton" data-dojo-attach-event\x3d"click:_onSearchBtnClick"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"cancel-button invalid" data-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"click:_onCancelBtnClick"\x3e${nls.cancel}\x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dojo/text!./LayerFilter.html dojo/dom dojo/dom-class jimu/dijit/Search".split(" "),function(e,f,d,g,h,k,a,l){return f([e,g],{templateString:h,baseClass:"layer-filter",layerFilterInput:null,isValid:!1,layerListWidget:null,layerInfoIsValidStatus:null,layerInfoIsExpandStatus:null,postMixInProperties:function(){this.inherited(arguments);this.nls=d.mixin(d.clone(this.layerListWidget.nls),window.jimuNls.common)},constructor:function(){this.layerInfoIsValidStatus=
{};this.layerInfoIsExpandStatus={}},startup:function(){this.layerFilterInput=(new l({placeholder:this.nls.typeAKeywork,onSearch:d.hitch(this,this._onFilter),searchWhenInput:!0})).placeAt(this.searchInputNode);k.setSelectable(this.cancelButton,!1)},_updateLayerInfoStatus:function(c){this.layerInfoIsValidStatus={};this.layerInfoIsExpandStatus={};this.layerListWidget.operLayerInfos.traversalAll(d.hitch(this,function(a){if(c){var b;if(0<=a.title.toLowerCase().indexOf(c.toLowerCase()))for(b=a;b;)this.layerInfoIsValidStatus[b.id]=
!0,(b=b.parentLayerInfo)&&(this.layerInfoIsExpandStatus[b.id]=!0);else for(b=a.parentLayerInfo;b;){if(0<=b.title.toLowerCase().indexOf(c.toLowerCase())){this.layerInfoIsValidStatus[a.id]=!0;break}b=b.parentLayerInfo}}else this.layerInfoIsValidStatus[a.id]=!0}))},isValidLayerInfo:function(a){return!this.isValid||this.layerInfoIsValidStatus[a.id]},isExpanded:function(a){return this.isValid&&this.layerInfoIsExpandStatus[a.id]},cancelFilter:function(){this.isValid=!1;this.layerFilterInput.inputSearch.value&&
(this.layerFilterInput.inputSearch.value="",this.layerListWidget._refresh());a.remove(this.searchButton,"invalid");a.add(this.searchInputNode,"invalid");a.add(this.cancelButton,"invalid")},_onFilter:function(c){c?a.remove(this.clearInputButton,"disable"):a.add(this.clearInputButton,"disable");this._updateLayerInfoStatus(c);this.layerListWidget._refresh()},_onSearchBtnClick:function(){this.isValid=!0;a.add(this.searchButton,"invalid");a.remove(this.searchInputNode,"invalid");a.remove(this.cancelButton,
"invalid");this.layerFilterInput.inputSearch.focus()},_onCancelBtnClick:function(){this.cancelFilter()},_onClearInputButton:function(){this.layerFilterInput.inputSearch.value&&(a.add(this.clearInputButton,"disable"),this.layerFilterInput.inputSearch.focus(),this.layerFilterInput.inputSearch.value="",this._updateLayerInfoStatus(""),this.layerListWidget._refresh())}})});